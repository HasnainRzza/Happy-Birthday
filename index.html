<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Happy Birthday Minah!</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.2/p5.min.js"></script>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      background: radial-gradient(circle at center, #ff99cc, #66b3ff, #1a1a66);
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      font-family: Arial, sans-serif;
    }
    canvas {
      position: absolute;
      z-index: 1;
    }
    .message {
      position: relative;
      z-index: 2;
      text-align: center;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
    }
    .message h1 {
      font-size: 3em;
      margin: 0;
      animation: pulse 2s infinite;
      color: #ffff00;
    }
    .message h1 .minah {
      color: #ff69b4;
    }
    .message h1 .exclamation {
      color: #ff69b4;
    }
    .message p {
      font-size: 1.5em;
      margin: 10px 0;
      color: #fff;
    }
    .timer {
      font-size: 2em;
      color: #fff;
      margin: 20px 0;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
    }
    .hidden {
      display: none;
    }
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.1); }
      100% { transform: scale(1); }
    }
  </style>
</head>
<body>
  <div class="message" id="initialMessage">
    <h1>Happy Birthday, <span class="minah">Minah</span><span class="exclamation">!</span></h1>
    <p>My love, you make every day brighter!</p>
    <p>Wishing you a day full of joy and love!</p>
    <p class="timer" id="timer"></p>
  </div>
  <div class="message hidden" id="birthdayMessage">
    <h1>Happy Birthday, <span class="minah">Minah</span><span class="exclamation">!</span></h1>
    <p>It's time to celebrate you!</p>
  </div>
  <script>
    let balloons = [];
    let stars = [];
    let sparkles = [];
    let midnight = new Date();
    midnight.setHours(24, 0, 0, 0);
    let showBirthdayMessage = false;

    class Balloon {
      constructor() {
        this.x = random(0, width * 0.25);
        this.y = random(height);
        this.speed = random(2, 5);
        this.color = random(1) > 0.5 ? color(255, 0, 0) : color(135, 206, 235);
        this.size = random(30, 50);
      }

      move() {
        this.y -= this.speed;
        this.x += random(-1, 1);
        if (this.y < -this.size) {
          this.y = height + this.size;
          this.x = random(0, width * 0.25);
        }
      }

      display() {
        fill(this.color);
        noStroke();
        ellipse(this.x, this.y, this.size, this.size * 1.3);
        stroke(0);
        strokeWeight(1);
        line(this.x, this.y + this.size * 0.65, this.x, this.y + this.size * 1.5);
      }
    }

    class Star {
      constructor() {
        this.x = random(width);
        this.y = random(height);
        this.speed = random(1, 3);
        this.size = random(2, 5);
      }

      move() {
        this.x += this.speed;
        if (this.x > width) {
          this.x = -this.size;
          this.y = random(height);
        }
      }

      display() {
        fill(255, 255, 0);
        noStroke();
        beginShape();
        for (let i = 0; i < 5; i++) {
          let angle = TWO_PI / 5 * i;
          let x = this.x + cos(angle) * this.size;
          let y = this.y + sin(angle) * this.size;
          vertex(x, y);
          angle += TWO_PI / 10;
          x = this.x + cos(angle) * this.size * 0.5;
          y = this.y + sin(angle) * this.size * 0.5;
          vertex(x, y);
        }
        endShape(CLOSE);
      }
    }

    class Sparkle {
      constructor() {
        this.x = random(width);
        this.y = random(height);
        this.alpha = random(50, 255);
        this.size = random(2, 4);
        this.fadeSpeed = random(2, 5);
      }

      move() {
        this.alpha -= this.fadeSpeed;
        if (this.alpha < 0) {
          this.alpha = random(50, 255);
          this.x = random(width);
          this.y = random(height);
        }
      }

      display() {
        fill(255, 255, 255, this.alpha);
        noStroke();
        ellipse(this.x, this.y, this.size, this.size);
      }
    }

    function setup() {
      createCanvas(windowWidth, windowHeight);
      for (let i = 0; i < 30; i++) {
        balloons.push(new Balloon());
      }
      for (let i = 0; i < 30; i++) {
        stars.push(new Star());
      }
      for (let i = 0; i < 50; i++) {
        sparkles.push(new Sparkle());
      }
      updateTimer();
    }

    function draw() {
      clear();
      if (showBirthdayMessage) {
        fill(255, 105, 180);
        noStroke();
        beginShape();
        let heartX = width / 2;
        let heartY = height / 2;
        let heartSize = 200;
        for (let t = 0; t < TWO_PI; t += 0.01) {
          let x = heartX + heartSize * 16 * pow(sin(t), 3);
          let y = heartY - heartSize * (13 * cos(t) - 5 * cos(2 * t) - 2 * cos(3 * t) - cos(4 * t));
          vertex(x, y);
        }
        endShape(CLOSE);
      }
      for (let balloon of balloons) {
        balloon.move();
        balloon.display();
      }
      for (let star of stars) {
        star.move();
        star.display();
      }
      for (let sparkle of sparkles) {
        sparkle.move();
        sparkle.display();
      }
    }

    function updateTimer() {
      let now = new Date();
      let timeLeft = midnight - now;
      if (timeLeft <= 0) {
        showBirthdayMessage = true;
        document.getElementById('initialMessage').classList.add('hidden');
        document.getElementById('birthdayMessage').classList.remove('hidden');
        document.getElementById('timer').classList.add('hidden');
      } else {
        let hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        let minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
        let seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);
        document.getElementById('timer').textContent = `Time until your special day: ${hours}h ${minutes}m ${seconds}s`;
        setTimeout(updateTimer, 1000);
      }
    }

    function windowResized() {
      resizeCanvas(windowWidth, windowHeight);
    }
  </script>
</body>
</html>
